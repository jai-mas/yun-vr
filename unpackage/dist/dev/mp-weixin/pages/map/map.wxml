<view class="map-container"><view class="custom-navbar"><view class="navbar-content"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="navbar-left" bindtap="__e"><image class="back-icon" src="/static/map/arrow.png" mode="aspectFit"></image></view><view class="search-container"><input class="search-input" placeholder="搜索景点名称" data-event-opts="{{[['confirm',[['onSearch',['$event']]]],['focus',[['e0',['$event']]]],['input',[['__set_model',['','searchKeyword','$event',[]]]]]]}}" value="{{searchKeyword}}" bindconfirm="__e" bindfocus="__e" bindinput="__e"/><image class="search-icon" src="/static/map/search.png" mode="aspectFit" data-event-opts="{{[['tap',[['onSearch',['$event']]]]]}}" bindtap="__e"></image></view></view></view><block wx:if="{{showHotSpotList}}"><view class="hot-spot-list"><view class="hot-spot-title">热门景点</view><scroll-view class="hot-spot-scroll" scroll-y="{{true}}"><block wx:for="{{hotSpots}}" wx:for-item="spot" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectHotSpot',['$0'],[[['hotSpots','',index]]]]]]]}}" class="hot-spot-item" bindtap="__e"><image class="spot-icon" src="/static/map/location_marker.png"></image><text class="spot-name">{{spot.name}}</text></view></block></scroll-view></view></block><map class="map-content" id="scenicMap" latitude="{{center.latitude}}" longitude="{{center.longitude}}" markers="{{markers}}" scale="{{scale}}" show-location="{{true}}" enable-zoom="{{mapSetting.enableZoom}}" enable-scroll="{{mapSetting.enableScroll}}" enable-rotate="{{mapSetting.enableRotate}}" enable-overlooking="{{mapSetting.enableOverlooking}}" enable-satellite="{{mapSetting.enableSatellite}}" enable-traffic="{{mapSetting.enableTraffic}}" show-scale="{{mapSetting.showScale}}" subkey="{{mapSetting.subkey}}" data-event-opts="{{[['markertap',[['onMarkerTap',['$event']]]]]}}" bindmarkertap="__e"></map><view class="{{['scenic-detail-panel',(showDetailPanel)?'show':'']}}"><view class="drag-indicator"></view><view class="panel-header"><text class="scenic-title">{{currentSpot.name}}</text><view data-event-opts="{{[['tap',[['closeDetailPanel',['$event']]]]]}}" class="close-btn" bindtap="__e"><text class="close-text">×</text></view></view><view class="media-section"><view class="media-container"><image class="scenic-image" src="{{currentSpot.image}}" mode="aspectFill"></image><block wx:if="{{currentSpot.hasVideo}}"><view class="play-overlay"><view class="play-button"><text class="play-icon">▶</text></view></view></block><block wx:if="{{currentSpot.hasVideo}}"><view class="video-controls"><view class="control-left"><view class="play-pause-btn"><text class="control-icon">▶</text></view><text class="time-text">{{currentSpot.currentTime}}</text></view><view class="progress-bar"><view class="progress-bg"><view class="progress-fill" style="{{'width:'+(currentSpot.progress+'%')+';'}}"></view></view></view><text class="time-text">{{currentSpot.totalTime}}</text><view class="fullscreen-btn"><text class="control-icon">⛶</text></view></view></block></view></view><scroll-view class="description-section" scroll-y="{{true}}"><text class="description-text">{{currentSpot.description}}</text></scroll-view></view><block wx:if="{{showDetailPanel}}"><view data-event-opts="{{[['tap',[['closeDetailPanel',['$event']]]]]}}" class="overlay" bindtap="__e"></view></block><tab-bar vue-id="5b0d33c6-1" current bind:__l="__l"></tab-bar></view>