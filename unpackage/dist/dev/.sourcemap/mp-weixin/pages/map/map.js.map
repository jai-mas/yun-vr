{"version":3,"sources":["uni-app:///main.js","webpack:///D:/shixiruanjian/code/project/yun-vr/pages/map/map.vue?99cd","webpack:///D:/shixiruanjian/code/project/yun-vr/pages/map/map.vue?8d30","webpack:///D:/shixiruanjian/code/project/yun-vr/pages/map/map.vue?1c0d","webpack:///D:/shixiruanjian/code/project/yun-vr/pages/map/map.vue?4c3c","uni-app:///pages/map/map.vue","webpack:///D:/shixiruanjian/code/project/yun-vr/pages/map/map.vue?d9bf","webpack:///D:/shixiruanjian/code/project/yun-vr/pages/map/map.vue?729d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","FloatBall","TabBar","data","center","latitude","longitude","scale","markers","searchKeyword","showHotSpotList","showDetailPanel","currentSpot","hotSpots","name","image","localImage","hasVideo","description","apiUrl","mapSetting","skew","rotate","showCompass","showScale","subkey","layerStyle","enableZoom","enableScroll","enableRotate","enableOverlooking","enableSatellite","enableTraffic","onLoad","methods","goBack","uni","loadScenicSpots","title","url","method","header","res","responseData","id","iconPath","width","height","callout","content","color","fontSize","borderRadius","bgColor","padding","display","customData","console","icon","onSearch","marker","onMarkerTap","spot","selectHotSpot","closeDetailPanel","addTestMarkers","scenicId","scenicName","address"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,YAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACc;;;AAGhE;AACgM;AAChM,gBAAgB,uMAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAivB,CAAgB,+uBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACyGrwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AAAA,eAEA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;QACAC;QAAA;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,WACA;QACAC;QACAT;QACAC;QACAS;QACAC;QAAA;QACAC;QAAA;QACAC;MACA,GACA;QACAJ;QACAT;QACAC;QACAS;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAT;QACAC;QACAS;QACAC;QACAC;QACAC;MACA,EACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACAC;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAD;kBAAAE;gBAAA;gBAAA;gBAAA;gBAAA,OAGAF;kBACAG;kBACAC;kBACAC;oBAAA;kBAAA;gBACA;cAAA;gBAJAC;gBAMAC;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBAAA,MACA;cAAA;gBAGA;kBAAA;oBACAC;oBACAvC;oBACAC;oBACAuC;oBACAC;oBACAC;oBACAC;sBACAC;sBACAC;sBACAC;sBACAC;sBACAC;sBACAC;sBACAC;oBACA;oBACAC;kBACA;gBAAA;gBAEA;kBACA;oBACAnD;oBACAC;kBACA;gBACA;gBAEA8B;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAqB;gBACArB;gBACAA;kBAAAE;kBAAAoB;gBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MAAA;MACA;MAEA;QAAA,OACAC;MAAA,EACA;MAEA;QACA;UACAvD;UACAC;QACA;QACA;MACA;QACA8B;UAAAE;UAAAoB;QAAA;MACA;IACA;IACAG;MACAJ;MAEA;QAAA;MAAA;MACAA;MAEA;QACA;UAAA,OACAK,8CACAF;QAAA,EACA;QAEAH;QAEA;UACA;QACA;UACA;YACA3C;YACAC;YACAC;YACAC;YACAC;UACA;QACA;QAEA;QACA;QAEAuC;QACAA;MACA;IACA;IACAM;MACA;MACA;QACA1D;QACAC;MACA;MACA;MACA;IACA;IACA0D;MACA;IACA;IACAC;MACA,gBACA;QACArB;QACAvC;QACAC;QACAuC;QACAC;QACAC;QACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;QACAC;UACAU;UACAC;UACAC;UACAlD;QACA;MACA,GACA;QACA0B;QACAvC;QACAC;QACAuC;QACAC;QACAC;QACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;QACAC;UACAU;UACAC;UACAC;UACAlD;QACA;MACA,GACA;QACA0B;QACAvC;QACAC;QACAuC;QACAC;QACAC;QACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;QACAC;UACAU;UACAC;UACAC;UACAlD;QACA;MACA,EACA;MAEA;QACAb;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACnXA;AAAA;AAAA;AAAA;AAAg5C,CAAgB,s0CAAG,EAAC,C;;;;;;;;;;;ACAp6C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/map/map.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/map/map.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./map.vue?vue&type=template&id=0b31f540&\"\nvar renderjs\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/map/map.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./map.vue?vue&type=template&id=0b31f540&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.showHotSpotList = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./map.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"map-container\">\r\n    <!-- Ëá™ÂÆö‰πâÂØºËà™Ê†è -->\r\n    <view class=\"custom-navbar\">\r\n      <view class=\"navbar-content\">\r\n        <view class=\"navbar-left\" @click=\"goBack\">\r\n          <image class=\"back-icon\" src=\"/static/map/arrow.png\" mode=\"aspectFit\"></image>\r\n        </view>\r\n        <view class=\"search-container\">\r\n          <input \r\n            class=\"search-input\" \r\n            placeholder=\"ÊêúÁ¥¢ÊôØÁÇπÂêçÁß∞\" \r\n            v-model=\"searchKeyword\"\r\n            @confirm=\"onSearch\"\r\n            @focus=\"showHotSpotList = true\"\r\n          />\r\n          <image \r\n            class=\"search-icon\" \r\n            src=\"/static/map/search.png\" \r\n            mode=\"aspectFit\"\r\n            @click=\"onSearch\"\r\n          ></image>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- ÁÉ≠Èó®ÊôØÁÇπÂàóË°® -->\r\n    <view class=\"hot-spot-list\" v-if=\"showHotSpotList\">\r\n      <view class=\"hot-spot-title\">ÁÉ≠Èó®ÊôØÁÇπ</view>\r\n      <scroll-view class=\"hot-spot-scroll\" scroll-y>\r\n        <view \r\n          class=\"hot-spot-item\" \r\n          v-for=\"(spot, index) in hotSpots\" \r\n          :key=\"index\"\r\n          @click=\"selectHotSpot(spot)\"\r\n        >\r\n          <image class=\"spot-icon\" src=\"/static/map/location_marker.png\"></image>\r\n          <text class=\"spot-name\">{{ spot.name }}</text>\r\n        </view>\r\n      </scroll-view>\r\n    </view>\r\n\r\n    <!-- Âú∞ÂõæÁªÑ‰ª∂ -->\r\n    <map \r\n      id=\"scenicMap\"\r\n      class=\"map-content\"\r\n      :latitude=\"center.latitude\"\r\n      :longitude=\"center.longitude\"\r\n      :markers=\"markers\"\r\n      :scale=\"scale\"\r\n      :show-location=\"true\"\r\n      :enable-zoom=\"mapSetting.enableZoom\"\r\n      :enable-scroll=\"mapSetting.enableScroll\"\r\n      :enable-rotate=\"mapSetting.enableRotate\"\r\n      :enable-overlooking=\"mapSetting.enableOverlooking\"\r\n      :enable-satellite=\"mapSetting.enableSatellite\"\r\n      :enable-traffic=\"mapSetting.enableTraffic\"\r\n      :show-scale=\"mapSetting.showScale\"\r\n      :subkey=\"mapSetting.subkey\"\r\n      @markertap=\"onMarkerTap\"\r\n    ></map>\r\n\r\n    <!-- ÊôØÁÇπËØ¶ÊÉÖÂ∫ïÈÉ®Èù¢Êùø -->\r\n    <view class=\"scenic-detail-panel\" :class=\"{ 'show': showDetailPanel }\">\r\n      <!-- ÊãñÊãΩÊåáÁ§∫Âô® -->\r\n      <view class=\"drag-indicator\"></view>\r\n      \r\n      <!-- ÊôØÁÇπÊ†áÈ¢ò -->\r\n      <view class=\"panel-header\">\r\n        <text class=\"scenic-title\">{{ currentSpot.name }}</text>\r\n        <view class=\"close-btn\" @click=\"closeDetailPanel\">\r\n          <text class=\"close-text\">√ó</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- ÂõæÁâáÂå∫Âüü - ÁßªÈô§‰∫ÜËßÜÈ¢ëÁõ∏ÂÖ≥ÂÖÉÁ¥† -->\r\n      <view class=\"media-section\">\r\n        <view class=\"media-container\">\r\n          <image \r\n            class=\"scenic-image\" \r\n            src=\"/static/map/test.jpeg\" \r\n            mode=\"aspectFill\"\r\n          ></image>\r\n          <!-- ÂèØÈÄâÔºöÊ∑ªÂä†ÂõæÁâáÊ†áËØÜ -->\r\n          <view class=\"image-overlay\">\r\n            <view class=\"image-indicator\">\r\n              <text class=\"indicator-text\">üì∑</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- ÊôØÁÇπÊèèËø∞ -->\r\n      <scroll-view class=\"description-section\" scroll-y>\r\n        <text class=\"description-text\">{{ currentSpot.description }}</text>\r\n      </scroll-view>\r\n    </view>\r\n\r\n    <!-- ÈÅÆÁΩ©Â±Ç -->\r\n    <view class=\"overlay\" v-if=\"showDetailPanel\" @click=\"closeDetailPanel\"></view>\r\n    <TabBar current=\"map\" />\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { getCreationList, deleteCreation } from '../../api/creation.js'\r\nimport FloatBall from '@/compents/FloatBall.vue'\r\nimport TabBar from '@/compents/TabBar.vue'\r\n// import uni from 'uni-app' // Declare the uni variable\r\n\r\nexport default {\r\n  components: {\r\n    FloatBall,\r\n    TabBar\r\n  },\r\n  data() {\r\n    return {\r\n      center: {\r\n        latitude: 28.1825, // ‰øÆÊîπ‰∏∫Â≤≥È∫ì‰π¶Èô¢ÁöÑÂùêÊ†á\r\n        longitude: 112.9344\r\n      },\r\n      scale: 12,\r\n      markers: [],\r\n      searchKeyword: '',\r\n      showHotSpotList: false,\r\n      showDetailPanel: false,\r\n      currentSpot: {},\r\n      hotSpots: [\r\n        {\r\n          name: 'Â≤≥È∫ì‰π¶Èô¢',\r\n          latitude: 28.1825,\r\n          longitude: 112.9344,\r\n          image: '/static/images/yuelu-academy.jpg',\r\n          localImage: '/static/images/yuelu-academy-local.jpg', // Êñ∞Â¢ûÊú¨Âú∞ÂõæÁâáË∑ØÂæÑ\r\n          hasVideo: false, // Êîπ‰∏∫falseÔºå‰∏çÂÜçÊòæÁ§∫ËßÜÈ¢ëÁõ∏ÂÖ≥ÂÖÉÁ¥†\r\n          description: 'Â≤≥È∫ì‰π¶Èô¢ÊòØ‰∏≠ÂõΩÂéÜÂè≤‰∏äËµ´Ëµ´ÈóªÂêçÁöÑÂõõÂ§ß‰π¶Èô¢‰πã‰∏ÄÔºåÂùêËêΩ‰∫é‰∏≠ÂõΩÂéÜÂè≤ÊñáÂåñÂêçÂüéÊπñÂçóÈïøÊ≤ôÊπòÊ±üË•øÂ≤∏ÁöÑÂ≤≥È∫ìÂ±±‰∏ã„ÄÇÂåóÂÆãÂºÄÂÆù‰πùÂπ¥ÔºàÂÖ¨ÂÖÉ976Âπ¥ÔºâÔºåÊΩ≠Â∑ûÂ§™ÂÆàÊú±Ê¥ûÂú®ÂÉß‰∫∫ÂäûÂ≠¶ÁöÑÂü∫Á°Ä‰∏äÁî±ÂÆòÂ∫úÊçêËµÑÂÖ¥Âª∫ÔºåÊ≠£ÂºèÂàõÁ´ãÂ≤≥È∫ì‰π¶Èô¢„ÄÇ‰Ωú‰∏∫‰∏ñÁïå‰∏äÊúÄÂè§ËÄÅÁöÑÂ≠¶Â∫ú‰πã‰∏ÄÔºåÂéÜÁªèÂçÉÂπ¥ËÄåÂº¶Ê≠å‰∏çÁªùÔºåÂ≠¶ËÑâÂª∂Áªµ„ÄÇÂÖ∂‰ª£Ë°®‰º†ÁªüÁöÑ‰π¶Èô¢Âª∫Á≠ëËá≥‰ªäË¢´ÂÆåÊï¥‰øùÂ≠òÔºåÊØè‰∏ÄÁªÑÈô¢ËêΩ„ÄÅÊØè‰∏ÄÂùóÁü≥Á¢ë„ÄÅÊØè‰∏ÄÊûöÁ†ñÁì¶„ÄÅÊØè‰∏ÄÊîØÈ£éËç∑ÔºåÈÉΩÈó™ÁÉÅÁùÄÊó∂ÂÖâÊ∑¨ÁÇºÁöÑ‰∫∫ÊñáÁ≤æÁ•ûÔºåÂêë‰∏ñ‰∫∫ËØâËØ¥ÁùÄÂçÉÂπ¥Â≠¶Â∫úÁöÑÊ≤ßÊ°ë‰∏éËæâÁÖå„ÄÇ'\r\n        },\r\n        {\r\n          name: '‰∏≠Áî∞Êùë',\r\n          latitude: 28.1865,\r\n          longitude: 112.9624,\r\n          image: '/static/images/juzizhou.jpg',\r\n          localImage: '/static/images/juzizhou-local.jpg',\r\n          hasVideo: false,\r\n          description: 'Ê©òÂ≠êÊ¥≤Â§¥ÊòØÊπòÊ±ü‰∏≠ÁöÑ‰∏Ä‰∏™ÂÜ≤ÂáªÊ≤ôÊ¥≤ÔºåÂõõÈù¢ÁéØÊ∞¥ÔºåÁªµÂª∂Êï∞ÂçÅÈáåÔºåÊòØÂõΩÂÆ∂ÈáçÁÇπÈ£éÊôØÂêçËÉúÂå∫„ÄÇÊ©òÂ≠êÊ¥≤Â§¥ÊôØÂå∫ÂÜÖÊúâÊØõÊ≥Ω‰∏úÈùíÂπ¥Ëâ∫ÊúØÈõïÂ°ë„ÄÅÈóÆÂ§©Âè∞Á≠âÊôØÁÇπ„ÄÇËøôÈáåÊòØÊØõÊ≥Ω‰∏úÈùíÂπ¥Êó∂‰ª£ÁªèÂ∏∏Ê∏∏ËßàÁöÑÂú∞ÊñπÔºå‰πüÊòØ‰ªñÂÜô‰∏ã„ÄäÊ≤ÅÂõ≠Êò•¬∑ÈïøÊ≤ô„ÄãÁöÑÂú∞Êñπ„ÄÇ'\r\n        },\r\n        {\r\n          name: '‰π¶Â†ÇÂ±±',\r\n          latitude: 28.2386,\r\n          longitude: 113.0557,\r\n          image: '/static/images/world-window.jpg',\r\n          localImage: '/static/images/world-window-local.jpg',\r\n          hasVideo: false,\r\n          description: 'ÈïøÊ≤ô‰∏ñÁïå‰πãÁ™óÊòØ‰∏Ä‰∏™Ëûç‰∏ñÁïåÂêÑÂõΩÂª∫Á≠ëÂ•áËßÇ„ÄÅ‰∫îÊ¥≤È£éÊÉÖÊ≠åËàûË°®Êºî„ÄÅÂ§ßÂûãÂô®Ê¢∞Ê∏∏‰πê„ÄÅÂÖàÈîãÊó∂Â∞öÊ¥ªÂä®„ÄÅÂΩ±ËßÜÊãçÊëÑÂü∫Âú∞‰∫é‰∏Ä‰ΩìÁöÑÁªºÂêàÊÄßÂ§ßÂûã‰∏ªÈ¢òÂÖ¨Âõ≠„ÄÇÂõ≠ÂÜÖÊ±áÈõÜ‰∫Ü‰∏ñÁïåÂêÑÂú∞ÁöÑËëóÂêçÂª∫Á≠ëÂíåÊôØËßÇÁöÑÂæÆÁº©ÁâàÊú¨„ÄÇ'\r\n        }\r\n      ],\r\n      apiUrl: 'https://xnlv.lizxx.com/api/vtp/app/scenic/scenicIndex',\r\n      mapSetting: {\r\n        skew: 0,\r\n        rotate: 0,\r\n        showCompass: false,\r\n        showScale: true,\r\n        subkey: 'JAYBZ-KQELT-46OXX-LHLXM-IRYNO-5HFRA',\r\n        layerStyle: 1,\r\n        enableZoom: true,\r\n        enableScroll: true,\r\n        enableRotate: false,\r\n        enableOverlooking: false,\r\n        enableSatellite: false,\r\n        enableTraffic: false,\r\n      }\r\n    }\r\n  },\r\n  onLoad() {\r\n    this.loadScenicSpots();\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      uni.navigateBack();\r\n    },\r\n    async loadScenicSpots() {\r\n      uni.showLoading({ title: 'Âä†ËΩΩ‰∏≠...' });\r\n      \r\n      try {\r\n        const res = await uni.request({\r\n          url: this.apiUrl,\r\n          method: 'GET',\r\n          header: { 'Content-Type': 'application/json' }\r\n        });\r\n        \r\n        const responseData = Array.isArray(res) ? res[1].data : res.data;\r\n        \r\n        if (!responseData?.data || !Array.isArray(responseData.data)) {\r\n          throw new Error('Êï∞ÊçÆÊ†ºÂºè‰∏çÊ≠£Á°Æ');\r\n        }\r\n        \r\n        this.markers = responseData.data.map(item => ({\r\n          id: item.scenicId,\r\n          latitude: Number(item.latitude),\r\n          longitude: Number(item.longitude),\r\n          iconPath: item.logoUrl || '/static/common/location.png',\r\n          width: 45,\r\n          height: 45,\r\n          callout: {\r\n            content: item.scenicName || 'Êú™ÂëΩÂêçÊôØÁÇπ',\r\n            color: '#333',\r\n            fontSize: 14,\r\n            borderRadius: 10,\r\n            bgColor: '#fff',\r\n            padding: 10,\r\n            display: 'ALWAYS'\r\n          },\r\n          customData: item\r\n        }));\r\n        \r\n        if (this.markers.length > 0) {\r\n          this.center = {\r\n            latitude: this.markers[0].latitude,\r\n            longitude: this.markers[0].longitude\r\n          };\r\n        }\r\n        \r\n        uni.hideLoading();\r\n      } catch (error) {\r\n        console.error('Âä†ËΩΩÂ§±Ë¥•:', error);\r\n        uni.hideLoading();\r\n        uni.showToast({ title: 'Âä†ËΩΩÂ§±Ë¥•', icon: 'none' });\r\n        this.addTestMarkers();\r\n      }\r\n    },\r\n    onSearch() {\r\n      if (!this.searchKeyword.trim()) return;\r\n      \r\n      const foundMarker = this.markers.find(marker => \r\n        marker.customData.scenicName.includes(this.searchKeyword)\r\n      );\r\n      \r\n      if (foundMarker) {\r\n        this.center = {\r\n          latitude: foundMarker.latitude,\r\n          longitude: foundMarker.longitude\r\n        };\r\n        this.showHotSpotList = false;\r\n      } else {\r\n        uni.showToast({ title: 'Êú™ÊâæÂà∞Áõ∏ÂÖ≥ÊôØÁÇπ', icon: 'none' });\r\n      }\r\n    },\r\n    onMarkerTap(e) {\r\n      console.log('ÁÇπÂáª‰∫ÜÊ†áËÆ∞ÁÇπ:', e);\r\n      \r\n      const marker = this.markers.find(item => item.id === e.markerId || item.id === e.detail.markerId);\r\n      console.log('ÊâæÂà∞ÁöÑÊ†áËÆ∞ÁÇπ:', marker);\r\n      \r\n      if (marker) {\r\n        const hotSpot = this.hotSpots.find(spot => \r\n          spot.name === marker.customData.scenicName || \r\n          marker.customData.scenicName.includes(spot.name)\r\n        );\r\n        \r\n        console.log('ÊâæÂà∞ÁöÑÁÉ≠Èó®ÊôØÁÇπ:', hotSpot);\r\n        \r\n        if (hotSpot) {\r\n          this.currentSpot = hotSpot;\r\n        } else {\r\n          this.currentSpot = {\r\n            name: marker.customData.scenicName,\r\n            image: '/static/images/default-scenic.jpg',\r\n            localImage: '/static/images/default-scenic-local.jpg',\r\n            hasVideo: false,\r\n            description: marker.customData.description || 'ÊöÇÊó†ÊôØÁÇπÊèèËø∞‰ø°ÊÅØ'\r\n          };\r\n        }\r\n        \r\n        this.showDetailPanel = true;\r\n        this.showHotSpotList = false;\r\n        \r\n        console.log('ÂΩìÂâçÊôØÁÇπ:', this.currentSpot);\r\n        console.log('ÊòæÁ§∫ËØ¶ÊÉÖÈù¢Êùø:', this.showDetailPanel);\r\n      }\r\n    },\r\n    selectHotSpot(spot) {\r\n      this.searchKeyword = spot.name;\r\n      this.center = {\r\n        latitude: spot.latitude,\r\n        longitude: spot.longitude\r\n      };\r\n      this.currentSpot = spot;\r\n      this.showHotSpotList = false;\r\n    },\r\n    closeDetailPanel() {\r\n      this.showDetailPanel = false;\r\n    },\r\n    addTestMarkers() {\r\n      this.markers = [\r\n        {\r\n          id: 1,\r\n          latitude: 28.1825,\r\n          longitude: 112.9344,\r\n          iconPath: '/static/map/test.jpeg',\r\n          width: 45,\r\n          height: 45,\r\n          callout: {\r\n            content: 'Â≤≥È∫ì‰π¶Èô¢',\r\n            color: '#333',\r\n            fontSize: 14,\r\n            borderRadius: 10,\r\n            bgColor: '#fff',\r\n            padding: 10,\r\n            display: 'ALWAYS'\r\n          },\r\n          customData: {\r\n            scenicId: 1,\r\n            scenicName: 'Â≤≥È∫ì‰π¶Èô¢',\r\n            address: 'ÊπñÂçóÁúÅÈïøÊ≤ôÂ∏ÇÂ≤≥È∫ìÂå∫È∫ìÂ±±ÂçóË∑Ø',\r\n            description: 'ÂçÉÂπ¥Â≠¶Â∫úÔºåÊñáÂåñÂú£Âú∞'\r\n          }\r\n        },\r\n        {\r\n          id: 2,\r\n          latitude: 28.1865,\r\n          longitude: 112.9624,\r\n          iconPath: '/static/common/location.png',\r\n          width: 45,\r\n          height: 45,\r\n          callout: {\r\n            content: 'Ê©òÂ≠êÊ¥≤Â§¥',\r\n            color: '#333',\r\n            fontSize: 14,\r\n            borderRadius: 10,\r\n            bgColor: '#fff',\r\n            padding: 10,\r\n            display: 'ALWAYS'\r\n          },\r\n          customData: {\r\n            scenicId: 2,\r\n            scenicName: 'Ê©òÂ≠êÊ¥≤Â§¥',\r\n            address: 'ÊπñÂçóÁúÅÈïøÊ≤ôÂ∏ÇÂ≤≥È∫ìÂå∫Ê©òÂ≠êÊ¥≤Â§¥',\r\n            description: 'ÊπòÊ±ü‰∏≠ÁöÑÂÜ≤ÂáªÊ≤ôÊ¥≤'\r\n          }\r\n        },\r\n        {\r\n          id: 3,\r\n          latitude: 28.2386,\r\n          longitude: 113.0557,\r\n          iconPath: '/static/common/location.png',\r\n          width: 45,\r\n          height: 45,\r\n          callout: {\r\n            content: 'ÈïøÊ≤ô‰∏ñÁïå‰πãÁ™ó',\r\n            color: '#333',\r\n            fontSize: 14,\r\n            borderRadius: 10,\r\n            bgColor: '#fff',\r\n            padding: 10,\r\n            display: 'ALWAYS'\r\n          },\r\n          customData: {\r\n            scenicId: 3,\r\n            scenicName: 'ÈïøÊ≤ô‰∏ñÁïå‰πãÁ™ó',\r\n            address: 'ÊπñÂçóÁúÅÈïøÊ≤ôÂ∏ÇÂºÄÁ¶èÂå∫‰∏â‰∏ÄÂ§ßÈÅì',\r\n            description: 'ÁªºÂêàÊÄßÂ§ßÂûã‰∏ªÈ¢òÂÖ¨Âõ≠'\r\n          }\r\n        }\r\n      ];\r\n      \r\n      this.center = {\r\n        latitude: this.markers[0].latitude,\r\n        longitude: this.markers[0].longitude\r\n      };\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.map-container {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  position: relative;\r\n  \r\n  .custom-navbar {\r\n    position: absolute;\r\n    top: 20px;\r\n    left: 20rpx;\r\n    right: 20rpx;\r\n    width: calc(100% - 40rpx);\r\n    height: 88rpx;\r\n    z-index: 100;\r\n    \r\n    .navbar-content {\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      background: rgba(255, 255, 255, 0.95);\r\n      border-radius: 44rpx;\r\n      box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\r\n      padding: 0 24rpx;\r\n      box-sizing: border-box;\r\n    }\r\n    \r\n    .back-icon {\r\n      width: 32rpx;\r\n      height: 32rpx;\r\n      margin-right: 10rpx;\r\n    }\r\n    \r\n    .search-container {\r\n      flex: 1;\r\n      height: 60rpx;\r\n      background: #f5f5f5;\r\n      border-radius: 30rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 0 20rpx;\r\n      \r\n      .search-input {\r\n        flex: 1;\r\n        height: 100%;\r\n        font-size: 28rpx;\r\n        color: #333;\r\n        background: transparent;\r\n      }\r\n      \r\n      .search-icon {\r\n        width: 32rpx;\r\n        height: 32rpx;\r\n        margin-left: 10rpx;\r\n      }\r\n    }\r\n  }\r\n  \r\n  /* ÁÉ≠Èó®ÊôØÁÇπÂàóË°®Ê†∑Âºè */\r\n  .hot-spot-list {\r\n    position: absolute;\r\n    top: 120rpx;\r\n    left: 40rpx;\r\n    right: 40rpx;\r\n    background: #fff;\r\n    border-radius: 16rpx;\r\n    box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.1);\r\n    z-index: 101;\r\n    overflow: hidden;\r\n    \r\n    .hot-spot-title {\r\n      padding: 24rpx 30rpx;\r\n      font-size: 32rpx;\r\n      font-weight: bold;\r\n      color: #333;\r\n      border-bottom: 1rpx solid #f5f5f5;\r\n    }\r\n    \r\n    .hot-spot-scroll {\r\n      max-height: 500rpx;\r\n      \r\n      .hot-spot-item {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 24rpx 30rpx;\r\n        border-bottom: 1rpx solid #f5f5f5;\r\n        \r\n        .spot-icon {\r\n          width: 36rpx;\r\n          height: 36rpx;\r\n          margin-right: 20rpx;\r\n        }\r\n        \r\n        .spot-name {\r\n          font-size: 28rpx;\r\n          color: #333;\r\n        }\r\n      }\r\n      \r\n      .hot-spot-item:active {\r\n        background-color: #f9f9f9;\r\n      }\r\n      \r\n      .hot-spot-item:last-child {\r\n        border-bottom: none;\r\n      }\r\n    }\r\n  }\r\n\r\n  /* ÊôØÁÇπËØ¶ÊÉÖÂ∫ïÈÉ®Èù¢Êùø */\r\n  .scenic-detail-panel {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    height: 80vh;\r\n    background: #fff;\r\n    border-radius: 20rpx 20rpx 0 0;\r\n    z-index: 200;\r\n    transform: translateY(100%);\r\n    transition: transform 0.3s ease-in-out;\r\n    display: flex;\r\n    flex-direction: column;\r\n    \r\n    &.show {\r\n      transform: translateY(0);\r\n    }\r\n    \r\n    .drag-indicator {\r\n      width: 60rpx;\r\n      height: 8rpx;\r\n      background: #e0e0e0;\r\n      border-radius: 4rpx;\r\n      margin: 16rpx auto;\r\n    }\r\n    \r\n    .panel-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0 30rpx 20rpx;\r\n      \r\n      .scenic-title {\r\n        font-size: 36rpx;\r\n        font-weight: bold;\r\n        color: #333;\r\n      }\r\n      \r\n      .close-btn {\r\n        width: 60rpx;\r\n        height: 60rpx;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        \r\n        .close-text {\r\n          font-size: 40rpx;\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n    \r\n    .media-section {\r\n      padding: 0 30rpx 20rpx;\r\n      \r\n      .media-container {\r\n        position: relative;\r\n        height: 400rpx; // ‰øùÊåÅÂéüÊúâÈ´òÂ∫¶\r\n        border-radius: 16rpx;\r\n        overflow: hidden;\r\n        \r\n        .scenic-image {\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n        \r\n        // Êñ∞Â¢ûÔºöÂõæÁâáÊ†áËØÜË¶ÜÁõñÂ±ÇÔºàÂèØÈÄâÔºâ\r\n        .image-overlay {\r\n          position: absolute;\r\n          top: 16rpx;\r\n          right: 16rpx;\r\n          \r\n          .image-indicator {\r\n            width: 60rpx;\r\n            height: 60rpx;\r\n            background: rgba(0, 0, 0, 0.5);\r\n            border-radius: 50%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            \r\n            .indicator-text {\r\n              color: #fff;\r\n              font-size: 24rpx;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    .description-section {\r\n      flex: 1;\r\n      padding: 0 30rpx 30rpx;\r\n      \r\n      .description-text {\r\n        font-size: 28rpx;\r\n        line-height: 1.6;\r\n        color: #666;\r\n      }\r\n    }\r\n  }\r\n\r\n  .overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    z-index: 199;\r\n  }\r\n  \r\n  .map-content {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./map.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./map.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1751344785726\n      var cssReload = require(\"D:/shixiruanjian/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}