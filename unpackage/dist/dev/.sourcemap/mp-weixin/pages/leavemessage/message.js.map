{"version":3,"sources":["uni-app:///main.js","webpack:////Users/dadanrw/Desktop/yun-vr/pages/leavemessage/message.vue?ab67","webpack:////Users/dadanrw/Desktop/yun-vr/pages/leavemessage/message.vue?71a1","webpack:////Users/dadanrw/Desktop/yun-vr/pages/leavemessage/message.vue?669c","webpack:////Users/dadanrw/Desktop/yun-vr/pages/leavemessage/message.vue?3310","uni-app:///pages/leavemessage/message.vue","webpack:////Users/dadanrw/Desktop/yun-vr/pages/leavemessage/message.vue?01cf","webpack:////Users/dadanrw/Desktop/yun-vr/pages/leavemessage/message.vue?ca3f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","TabBar","data","statusBarHeight","listHeight","newMessage","messageList","bannerList","messagePositions","left","top","transform","onLoad","console","methods","getSystemInfo","calculateListHeight","sendMessage","uni","title","icon","year","month","day","hour","minute","id","content","time","loadBannerData","url","method","header","response","imageUrl","description","duration","loadMessageData","filteredMessages","limitedMessages","onSwiperChange","onBannerClick","getNoteBgImage","onTabChange"],"mappings":"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","file":"pages/leavemessage/message.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/leavemessage/message.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./message.vue?vue&type=template&id=0ab88261&\"\nvar renderjs\nimport script from \"./message.vue?vue&type=script&lang=js&\"\nexport * from \"./message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/leavemessage/message.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=template&id=0ab88261&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.messagePositions.length\n  var g1 = _vm.messagePositions.length\n  var g2 = _vm.messagePositions.length\n  var l0 = _vm.__map(_vm.messageList, function (message, index) {\n    var $orig = _vm.__get_orig(message)\n    var m0 = _vm.getNoteBgImage(index)\n    return {\n      $orig: $orig,\n      m0: m0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"message-container\">\n\t\t<!-- 背景图铺满整个界面 -->\n\t\t<image class=\"full-bg\" src=\"/static/leavemessage/背景.png\" mode=\"aspectFill\"></image>\n\t\t\n\t\t<!-- 标题图片 -->\n\t\t<view class=\"title-section\" :style=\"{ paddingTop: statusBarHeight + 20 + 'px' }\">\n\t\t\t<image class=\"title-image\" src=\"/static/leavemessage/image.png\" mode=\"aspectFit\"></image>\n\t\t</view>\n\n\t\t<!-- 轮播图区域 -->\n\t\t<view class=\"swiper-section\">\n\t\t\t<swiper \n\t\t\t\tclass=\"banner-swiper\" \n\t\t\t\t:indicator-dots=\"true\" \n\t\t\t\t:autoplay=\"true\" \n\t\t\t\t:interval=\"4000\" \n\t\t\t\t:duration=\"800\"\n\t\t\t\t:circular=\"true\"\n\t\t\t\tindicator-color=\"rgba(255, 255, 255, 0.5)\"\n\t\t\t\tindicator-active-color=\"#ffffff\"\n\t\t\t\t@change=\"onSwiperChange\"\n\t\t\t>\n\t\t\t\t<swiper-item v-for=\"(item, index) in bannerList\" :key=\"index\" @click=\"onBannerClick(item, index)\">\n\t\t\t\t\t<view class=\"swiper-item\">\n\t\t\t\t\t\t<image class=\"banner-image\" :src=\"item.imageUrl\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<view class=\"banner-overlay\">\n\t\t\t\t\t\t\t<text class=\"banner-title\">{{ item.title }}</text>\n\t\t\t\t\t\t\t<text class=\"banner-desc\">{{ item.description }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\t\t</view>\n\n\t\t<!-- 主要内容区域 -->\n\t\t<view class=\"main-content\">\n\t\t\t\t\t<!-- 留言列表 -->\n\t\t<view class=\"message-list-container\" :style=\"{ height: listHeight + 'px' }\">\n\t\t\t<view v-for=\"(message, index) in messageList\" :key=\"index\" class=\"message-item\" \n\t\t\t\t:style=\"{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tleft: messagePositions[index % messagePositions.length].left,\n\t\t\t\t\ttop: messagePositions[index % messagePositions.length].top,\n\t\t\t\t\ttransform: messagePositions[index % messagePositions.length].transform,\n\t\t\t\t\twidth: '200rpx',\n\t\t\t\t\theight: '200rpx',\n\t\t\t\t\tzIndex: 3\n\t\t\t\t}\">\n\t\t\t\t<!-- 便签背景 -->\n\t\t\t\t<image class=\"note-bg\" :src=\"getNoteBgImage(index)\" mode=\"aspectFit\"></image>\n\t\t\t\t\n\t\t\t\t<!-- 留言内容 -->\n\t\t\t\t<view class=\"note-content\">\n\t\t\t\t\t<text class=\"note-text\">{{ message.content }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 发送留言区域 - 固定在底部 -->\n\t\t<view class=\"send-area-fixed\">\n\t\t\t<view class=\"input-container\">\n\t\t\t\t<!-- 输入框 -->\n\t\t\t\t<view class=\"input-wrapper\">\n\t\t\t\t\t<input \n\t\t\t\t\t\tclass=\"message-input\" \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tplaceholder=\"写下你的留言...\" \n\t\t\t\t\t\tv-model=\"newMessage\"\n\t\t\t\t\t\tmaxlength=\"200\"\n\t\t\t\t\t\t@confirm=\"sendMessage\"\n\t\t\t\t\t/>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 发送按钮 -->\n\t\t\t\t<view class=\"send-btn\" @click=\"sendMessage\">\n\t\t\t\t\t<text class=\"send-btn-text\">发送</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 底部导航栏 -->\n\t\t<TabBar current=\"message\" @change=\"onTabChange\" />\n\t</view>\n</template>\n\n<script>\n\timport TabBar from '@/compents/TabBar.vue'\n\t\n\texport default {\n\t\tcomponents: {\n\t\t\tTabBar\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tstatusBarHeight: 44, // 状态栏高度\n\t\t\t\tlistHeight: 0, // 列表高度\n\t\t\t\tnewMessage: '', // 新留言内容\n\t\t\t\tmessageList: [], // 留言数据，改为空数组\n\t\t\t\tbannerList: [], // 轮播图数据\n\t\t\t\tmessagePositions: [\n\t\t\t\t\t// 第一排\n\t\t\t\t\t{ left: '40rpx', top: '30rpx', transform: 'rotate(-5deg)' },\n\t\t\t\t\t{ left: '290rpx', top: '50rpx', transform: 'rotate(3deg)' },\n\t\t\t\t\t{ left: '540rpx', top: '20rpx', transform: 'rotate(-8deg)' },\n\t\t\t\t\t\n\t\t\t\t\t// 第二排\n\t\t\t\t\t{ left: '20rpx', top: '280rpx', transform: 'rotate(6deg)' },\n\t\t\t\t\t{ left: '310rpx', top: '260rpx', transform: 'rotate(-4deg)' },\n\t\t\t\t\t{ left: '560rpx', top: '290rpx', transform: 'rotate(7deg)' },\n\t\t\t\t\t\n\t\t\t\t\t// 第三排\n\t\t\t\t\t{ left: '60rpx', top: '530rpx', transform: 'rotate(-6deg)' },\n\t\t\t\t\t{ left: '270rpx', top: '550rpx', transform: 'rotate(4deg)' },\n\t\t\t\t\t{ left: '520rpx', top: '520rpx', transform: 'rotate(-3deg)' }\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.getSystemInfo();\n\t\t\tthis.calculateListHeight();\n\t\t\tthis.loadBannerData();\n\t\t\tthis.loadMessageData();\n\t\t\tconsole.log('留言数据:', this.messageList);\n\t\t\tconsole.log('留言数量:', this.messageList.length);\n\t\t\tconsole.log('位置数据:', this.messagePositions);\n\t\t},\n\t\tmethods: {\n\t\t\t// 获取系统信息\n\t\t\tgetSystemInfo() {\n\t\t\t\ttry {\n\t\t\t\t\tconst systemInfo = uni.getSystemInfoSync();\n\t\t\t\t\tthis.statusBarHeight = systemInfo.statusBarHeight || 44;\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.calculateListHeight();\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log('获取系统信息失败', e);\n\t\t\t\t\tthis.statusBarHeight = 44;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 计算列表高度\n\t\t\tcalculateListHeight() {\n\t\t\t\ttry {\n\t\t\t\t\tconst systemInfo = uni.getSystemInfoSync();\n\t\t\t\t\tconst windowHeight = systemInfo.windowHeight;\n\t\t\t\t\t// 简化高度计算，给留言区域足够的空间\n\t\t\t\t\tthis.listHeight = Math.max(windowHeight * 0.4, 400); // 至少400px高度\n\t\t\t\t\tconsole.log('计算的列表高度:', this.listHeight);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.log('计算高度失败', e);\n\t\t\t\t\tthis.listHeight = 400;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 发送留言\n\t\t\tsendMessage() {\n\t\t\t\tif (!this.newMessage || !this.newMessage.trim()) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请输入留言内容',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 检查留言长度\n\t\t\t\tif (this.newMessage.trim().length > 30) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '留言内容不能超过30个字符',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 获取当前时间\n\t\t\t\tconst now = new Date();\n\t\t\t\tconst time = now.toLocaleString('zh-CN', {\n\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\tmonth: '2-digit',\n\t\t\t\t\tday: '2-digit',\n\t\t\t\t\thour: '2-digit',\n\t\t\t\t\tminute: '2-digit'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// 添加新留言到列表顶部\n\t\t\t\tconst newMsg = {\n\t\t\t\t\tid: Date.now(), // 使用时间戳作为临时ID\n\t\t\t\t\tcontent: this.newMessage.trim(),\n\t\t\t\t\ttime: time\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t// 如果已有9条留言，移除最后一条\n\t\t\t\tif (this.messageList.length >= 9) {\n\t\t\t\t\tthis.messageList.pop();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.messageList.unshift(newMsg);\n\t\t\t\tthis.newMessage = '';\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '留言发送成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 加载轮播图数据\n\t\t\tasync loadBannerData() {\n\t\t\t\ttry {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '加载中...'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tconst response = await uni.request({\n\t\t\t\t\t\turl: 'http://team2.lizxx.com/api/wall/carousel',\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\n\t\t\t\t\tif (response.data && response.data.code === 200 && response.data.data) {\n\t\t\t\t\t\t// 将接口返回的图片URL转换为轮播图数据格式\n\t\t\t\t\t\tthis.bannerList = response.data.data.map((imageUrl, index) => ({\n\t\t\t\t\t\t\timageUrl: imageUrl,\n\t\t\t\t\t\t\ttitle: `精彩瞬间 ${index + 1}`,\n\t\t\t\t\t\t\tdescription: '分享美好时光，留下珍贵回忆'\n\t\t\t\t\t\t}));\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log('轮播图数据加载成功:', this.bannerList);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('数据格式错误');\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tconsole.error('获取轮播图数据失败:', error);\n\t\t\t\t\t\n\t\t\t\t\t// 使用默认数据作为备用\n\t\t\t\t\tthis.bannerList = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\timageUrl: '/static/map/blueSky.png',\n\t\t\t\t\t\t\ttitle: '美丽风景1',\n\t\t\t\t\t\t\tdescription: '这里有最美丽的风景，欢迎大家来游览'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\timageUrl: '/static/map/blueSky.png',\n\t\t\t\t\t\t\ttitle: '美丽风景2',\n\t\t\t\t\t\t\tdescription: '体验不一样的自然风光，感受大自然的魅力'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\timageUrl: '/static/map/blueSky.png',\n\t\t\t\t\t\t\ttitle: '美丽风景3',\n\t\t\t\t\t\t\tdescription: '留下美好的回忆，分享快乐的时光'\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\t\t\t\t\t\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '轮播图加载失败，使用默认数据',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 加载留言数据\n\t\t\tasync loadMessageData() {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await uni.request({\n\t\t\t\t\t\turl: 'http://team2.lizxx.com/api/wall/message/list',\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif (response.data && response.data.code === 200 && response.data.data) {\n\t\t\t\t\t\t// 过滤过长的消息，只保留长度适中的消息\n\t\t\t\t\t\tconst filteredMessages = response.data.data.filter(item => {\n\t\t\t\t\t\t\treturn item.msg && item.msg.length <= 30; // 过滤长度超过30字符的消息\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 只取前9条消息（对应9个位置）\n\t\t\t\t\t\tconst limitedMessages = filteredMessages.slice(0, 9);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 转换为组件需要的数据格式\n\t\t\t\t\t\tthis.messageList = limitedMessages.map(item => ({\n\t\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t\t\tcontent: item.msg,\n\t\t\t\t\t\t\ttime: new Date().toLocaleString('zh-CN', {\n\t\t\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\t\t\tmonth: '2-digit',\n\t\t\t\t\t\t\t\tday: '2-digit',\n\t\t\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\t\t\tminute: '2-digit'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}));\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log('留言数据加载成功:', this.messageList);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('留言数据格式错误');\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取留言数据失败:', error);\n\t\t\t\t\t\n\t\t\t\t\t// 使用默认留言数据作为备用\n\t\t\t\t\tthis.messageList = [\n\t\t\t\t\t\t{ content: '这里的风景真美！', time: '2024-01-15 10:30' },\n\t\t\t\t\t\t{ content: '很喜欢这个地方', time: '2024-01-15 09:45' },\n\t\t\t\t\t\t{ content: '和家人一起度过了美好时光', time: '2024-01-14 16:20' }\n\t\t\t\t\t];\n\t\t\t\t\t\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '留言加载失败，使用默认数据',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 轮播图切换事件\n\t\t\tonSwiperChange(event) {\n\t\t\t\tconsole.log('轮播图切换到第', event.detail.current, '张');\n\t\t\t},\n\t\t\t\n\t\t\t// 轮播图点击事件\n\t\t\tonBannerClick(item, index) {\n\t\t\t\tconsole.log('点击了轮播图', index, item);\n\t\t\t\t// TODO: 根据轮播图数据进行页面跳转或其他操作\n\t\t\t},\n\t\t\t\n\t\t\t// 获取便签背景图片\n\t\t\tgetNoteBgImage(index) {\n\t\t\t\tconst bgImages = [\n\t\t\t\t\t'/static/leavemessage/image 49649.png',\n\t\t\t\t\t'/static/leavemessage/image 49651.png',\n\t\t\t\t\t'/static/leavemessage/image 49652.png',\n\t\t\t\t\t'/static/leavemessage/image 49653.png',\n\t\t\t\t\t'/static/leavemessage/image 49654.png'\n\t\t\t\t];\n\t\t\t\treturn bgImages[index % bgImages.length];\n\t\t\t},\n\t\t\t\n\t\t\t// 处理 TabBar 切换事件\n\t\t\tonTabChange(tabName) {\n\t\t\t\tconsole.log('Tab changed to:', tabName);\n\t\t\t}\n\n\t\t}\n\t}\n</script>\n\n<style>\n\tpage {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t.message-container {\n\t\tposition: relative;\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\toverflow: hidden;\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t/* 全屏背景 */\n\t.full-bg {\n\t\tposition: fixed;\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index: 1;\n\t}\n\t\n\t/* 标题区域 */\n\t.title-section {\n\t\tposition: relative;\n\t\tz-index: 2;\n\t\ttext-align: center;\n\t\tpadding-bottom: 30rpx;\n\t\tmargin-top: -130rpx;\n\t}\n\t\n\t.title-image {\n\t\theight: 220rpx;\n\t\tmax-width: 600rpx;\n\t}\n\t\n\t/* 轮播图区域 */\n\t.swiper-section {\n\t\tposition: relative;\n\t\tz-index: 2;\n\t\tmargin: 0 30rpx;\n\t\tmargin-bottom: 10rpx; /* 减少下边距，让留言内容上移 */\n\t\tmargin-top: -60rpx;\n\t}\n\t\n\t.banner-swiper {\n\t\theight: 400rpx;\n\t\tborder-radius: 20rpx;\n\t\toverflow: hidden;\n\t}\n\t\n\t.swiper-item {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t.banner-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 20rpx;\n\t}\n\t\n\t.banner-overlay {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground: linear-gradient(transparent, rgba(0, 0, 0, 0.6));\n\t\tpadding: 40rpx 30rpx 30rpx 30rpx;\n\t\tborder-radius: 0 0 20rpx 20rpx;\n\t}\n\t\n\t.banner-title {\n\t\tdisplay: block;\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #ffffff;\n\t\tmargin-bottom: 10rpx;\n\t\ttext-shadow: 1rpx 1rpx 2rpx rgba(0, 0, 0, 0.5);\n\t}\n\t\n\t.banner-desc {\n\t\tdisplay: block;\n\t\tfont-size: 26rpx;\n\t\tcolor: #ffffff;\n\t\topacity: 0.9;\n\t\tline-height: 1.4;\n\t\ttext-shadow: 1rpx 1rpx 2rpx rgba(0, 0, 0, 0.5);\n\t}\n\t\n\t/* 主要内容区域 */\n\t.main-content {\n\t\tposition: relative;\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tz-index: 2;\n\t}\n\t\n\t/* 留言列表 */\n\t.message-list-container {\n\t\tposition: relative;\n\t\tz-index: 2;\n\t\tpadding: 30rpx;\n\t\tbox-sizing: border-box;\n\t\toverflow: visible;\n\t\tmin-height: 1200rpx;\n\t}\n\t\n\t.message-item {\n\t\tposition: absolute;\n\t\twidth: 200rpx;\n\t\theight: 200rpx;\n\t\tz-index: 3;\n\t}\n\t\n\t.note-bg {\n\t\tposition: absolute;\n\t\twidth: 130%;\n\t\theight: 130%;\n\t\ttop: -10%;\n\t\tleft: -10%;\n\t\tz-index: 1;\n\t}\n\t\n\t.note-content {\n\t\tposition: relative;\n\t\tz-index: 2;\n\t\tpadding: 40rpx 30rpx;\n\t\theight: 100%;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttext-align: center;\n\t}\n\t\n\t.note-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tline-height: 1.4;\n\t\tword-break: break-all;\n\t\toverflow: hidden;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 4;\n\t\t-webkit-box-orient: vertical;\n\t\tfont-weight: 500;\n\t}\n\t\n\n\t\n\t/* 发送留言区域 - 固定在底部 */\n\t.send-area-fixed {\n\t\tposition: fixed;\n\t\tbottom: 160rpx; /* 留言发送区域向上移动 */\n\t\tleft: 0;\n\t\tright: 0;\n\t\tz-index: 10;\n\t\tbackground: transparent;\n\t\tpadding: 30rpx;\n\t}\n\t\n\t.input-container {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.input-wrapper {\n\t\tflex: 1;\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tborder-radius: 50rpx;\n\t\tpadding: 0 30rpx;\n\t\tbackdrop-filter: blur(10rpx);\n\t}\n\t\n\t.message-input {\n\t\twidth: 100%;\n\t\theight: 80rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tbackground: transparent;\n\t\tborder: none;\n\t}\n\t\n\t.send-btn {\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\tborder-radius: 50rpx;\n\t\tpadding: 0 40rpx;\n\t\theight: 80rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.send-btn-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #ffffff;\n\t\tfont-weight: bold;\n\t}\n</style> ","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1751382146566\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}